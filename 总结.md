# 复用

- 样式的复用

小的样式组合成大的样式
## 全局样式

```
<style name="AppThemeBase" parent="Theme.AppCompat.Light.NoActionBar">
    <item name="colorPrimary">@color/colorPrimary</item>
    <item name="android:windowBackground">@color/colorPageBkg</item>
    <item name="android:textViewStyle">@style/TextViewTheme</item>
    <item name="buttonStyle">@style/ButtonTheme</item>
    <item name="dateButtonStyle">@style/DateButtonTheme</item>
    <item name="editTextStyle">@style/TransparentEditText</item>
</style>
```

## CheckBox选择框和文字设置间距
```
android:button="@null"  
android:drawableLeft="@drawable/cb_selector"  
android:drawablePadding="5dp"  
android:paddingLeft="0dp"  
```

## 文本样式
color, size

## 背景样式
width， height， background， padding， margin

## 分隔线

- 控件的复用
    - 小的组合控件配合DataBinding，
    - 尽量不要用代码创建布局

- Fragment的复用

    - 严格控制输入和输出数据
    - 严格控制外部依赖

- Adapter

# AlertDialog
    底部颜色为空的问题
    要不要用support库？ support保证了各个版本上UI一致

    Overlay主题和Compatzhu主题，覆盖了
```
    <item name="buttonStyle">@style/ButtonTheme</item>
```
    会导致所有Button字的颜色变成指定样式，从而导致了AlertDialog底部按钮的颜色（白色）不可见的问题

# 数据传递
- activity之间传递数据(传入和传出)
    - Intent 
    - onActivityResult
    - EventBus

    >The point of all this is that your app components can be launched individually and out-of-order, and can be destroyed at anytime by the user or the system. Because app components are ephemeral and their lifecycle (when they are created and destroyed) are not under your control, **you should not store any app data or state in your app components and your app components should not depend on each other.**

    痛点：
    A启动了B，然后B启动C， C需要A的某个数据，需要通过B透传，然而B并不需要这个数据。如果中间层次更多就会更加麻烦。另外，如果A需要C返回某个数据，也需要通过B中转，B表示很受伤。

    尝试解决：
    新建一个A‘专门处理这个流程， A’启动A，A返回后A‘启动B, B返回A'启动C

- activity和fragment
    - Bundle
    - 接口

- ARouter
    - 解决了因activity跳转引起的组件之间的耦合关系。
    - service依赖注入
    - 问题：fragment跳activity onActivityResult无法正常回调的问题
    
# ShellActivity 
    - 减少activity声明（热更新）
    - 代码逻辑集中到fragment中，方便fragment复用

# OKHttp
    - Cache
    - Interceptor

# Retrofit
    - unsubcribe

# RxJava
    - 减少回调接口
    - 减少嵌套

    observer的onSubscribe方法是在调用subcribe的线程中触发的

# Picasso
    - Downloader & Cache 默认采用OKHttp  

# DataBinding
    - DataBindingAdapter
    - 防止过度使用（逻辑很绕，不直观）
    - 编译出错不好定位

# WebView
[WebView常见问题汇总](http://blog.csdn.net/xyz_lmn/article/details/39473701)

线程问题，js利用addJavascriptInterfaceh增加的接口调用Java**不是在主线程**

